{% include 'header.html' %}
<script src="{{ url_for('static', filename='ajax.js') }}"></script>
<body>
  <h1>DeepDiscord</h1>
  <h3>Search Results</h3>
    {% set iteration = 0 %}
    <!--

      The problem here is that the iteration variable is not
      increasing, even though it should increase by 1 for each
      iteration.

      I've asked a question about this on Stackoverflow.
      https://stackoverflow.com/q/71976299

      Edit: Fixed. The solution was to use loop.index0.
      This increases by one every time.
    -->
    {% for result in results %}
      <p id="{{ results_raw[loop.index0] }}">{{ result }}</p> <br>
    {% endfor %}

    {% for result_raw in results_raw %}
      <script>
        search("{{ result_raw }}");
      </script>
    {% endfor %}
</body>
{% include 'footer.html' %}